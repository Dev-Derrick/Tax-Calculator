<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Project of: Derrick Smith</title>
    <link rel="stylesheet" href="styles.css" />
    <script>
        const click = function()
    {
        document.querySelector("#calculate").addEventListener("click", processEntries);
        document.querySelector("#erase").addEventListener("click", clearEntries);
    }
    
    document.addEventListener("DOMContentLoaded", click);
    
    window.onload = function()
    {
        document.getElementById("subtotal").focus();
        document.querySelector(".author").innerHTML = "Derrick Smith"
    }
    
    function processEntries()
    {
        let taxPercent = parseFloat(document.getElementById("rate").value);
        let subtotal = parseFloat(document.getElementById("subtotal").value);
        let taxAmount = (subtotal * (taxPercent/100));
        let finalTotal = (subtotal + taxAmount).toFixed(2);
    
        if (!(subtotal > 0 && subtotal < 10000))
        {
            alert("The subtotal must be > 0 et < 10000");
            document.querySelector("form").reset();
            document.getElementById("subtotal").focus();
            return;
        }
    
        if (!(taxPercent > 0 && taxPercent < 12))
        {
            alert("The tax rate must be greater than 0 and less than 12");
            document.querySelector("form").reset();
            document.getElementById("subtotal").focus();
            return;
        }
    
        document.getElementById("salestax").value = taxAmount;
        document.getElementById("total").value = finalTotal;
        document.getElementById("subtotal").focus();
    }
    
    function clearEntries()
    {
        document.querySelector("form").reset();
        document.getElementById("subtotal").focus();
    }
    </script>
</head>
<body>
    <div class="box">
        <div class="content">
            <form>
            <h1>Sales Tax Calculator</h1>
            <p>Enter the subtotal and the tax rate and click "Calculate".</p> 
            <label for="subtotal">Subtotal:</label>
            <input type="text" id="subtotal" >
            <br>

            <label for="rate">Tax Rate:</label>
            <input type="text" id="rate" >
            <br>

            <label for="salestax">Sales Tax:</label>
            <input type="text" id="salestax" disabled >
            <br>

            <label for="total">Total:  </label>
            <input type="text" id="total" disabled /><br>

            <label>&nbsp;</label>
            <input type="button" id="calculate" value="Calculate">
            <input type="button" id="erase" value="Erase"><br>
            <br>
            <br>
            &copy; <span class="author"> name </span> 2021
            </form>
        </div>
    </div>
</body>

</html>
